{% extends 'layout.html.twig' %}

{% block main_content %}

    {% if content.post.subreddit.bannerBackgroundImageAsset %}
        <div class="row">
            <div class="col">
                <div class="border--thin-gray">
                    {{ component('asset_render', {
                        asset: content.post.subreddit.bannerBackgroundImageAsset,
                    }) }}
                </div>
            </div>
        </div>
    {% endif %}

    <div class="row">
        <div class="col">
            <div class="search-result-content border-radius--bottom-25em">
                <div class="row search-result-content__header">
                    <div class="col-lg-6">
                        <span>r/{{ content.post.subreddit.name }}</span> | <span>Posted by u/{{ content.post.author }}</span> on <span>{{ content.post.createdAt|date("Y-m-d") }}</span>
                    </div>

                    <div class="col-lg-6 text-lg-end">
                        {% for postAward in content.post.postAwards %}
                                {{ component('asset_render', {
                                    asset: postAward.award.iconAsset,
                                    customClass: "width--16px"
                                }) }}
                        {% endfor %}

                        {% if content.post.flairText %}
                            <span>{{ content.post.flairText }}</span>
                        {% endif %}
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <span>{{ content.post.title }}</span>
                    </div>
                </div>

                <div class="row">
                    <div class="col text-center">
                        {% for mediaAsset in content.post.mediaAssets %}
                            {{ component('asset_render', {
                                asset: mediaAsset,
                                linkImage: true
                            }) }}
                        {% endfor %}
                    </div>
                </div>

                {{ include('contents/list/_content_footer.html.twig', {
                    postScore: content.post.score,
                    commentsCount: content.post.comments.count,
                    redditLink: content.post.redditPostUrl
                }) }}
            </div>
        </div>
    </div>

    {{ component('comment_threads', {
        content: content,
    }) }}

{% endblock %}